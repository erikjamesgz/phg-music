"use strict";const c=require("../common/vendor.js"),e={musicUrl:new Map,picUrl:new Map},r=(c,e)=>`${e}_${c}`;exports.getCachedPicUrl=function(o,t){const n=r(o,t),s=e.picUrl.get(n);if(s)return console.log("[Cache] 命中图片URL缓存:",n),s;try{const r=`pic_url_${n}`,o=c.index.getStorageSync(r);if(o)return console.log("[Cache] 从本地存储获取图片URL:",n),e.picUrl.set(n,o),o}catch(l){console.error("[Cache] 读取本地存储失败:",l)}return null},exports.setCachedPicUrl=function(o,t,n){const s=r(o,t);e.picUrl.set(s,n);try{const e=`pic_url_${s}`;c.index.setStorageSync(e,n),console.log("[Cache] 保存图片URL到缓存:",s)}catch(l){console.error("[Cache] 保存到本地存储失败:",l)}};
