"use strict";const e=require("../common/vendor.js");function r(r){try{return e.index.removeStorageSync(r),!0}catch(t){return console.error("移除存储数据失败",t),!1}}exports.getStorage=function(t,n=null){try{const o=e.index.getStorageSync(t);if(!o)return n;const c=JSON.parse(o);return c.expires>0&&c.expires<Date.now()?(r(t),n):c.data}catch(o){return console.error("获取存储数据失败",o),n}},exports.removeStorage=r,exports.setStorage=function(r,t,n=0){try{const o={data:t,expires:n>0?Date.now()+1e3*n:0};return e.index.setStorageSync(r,JSON.stringify(o)),!0}catch(o){return console.error("存储数据失败",o),!1}};
